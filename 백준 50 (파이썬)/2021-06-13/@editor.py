# í•œ ì¤„ë¡œ ëœ ê°„ë‹¨í•œ ì—ë””í„°ë¥¼ êµ¬í˜„í•˜ë ¤ê³  í•œë‹¤. ì´ íŽ¸ì§‘ê¸°ëŠ” ì˜ì–´ ì†Œë¬¸ìžë§Œì„ ê¸°ë¡í•  ìˆ˜ ìžˆëŠ” íŽ¸ì§‘ê¸°ë¡œ, ìµœëŒ€ 600,000ê¸€ìžê¹Œì§€ ìž…ë ¥í•  ìˆ˜ ìžˆë‹¤.

# ì´ íŽ¸ì§‘ê¸°ì—ëŠ” 'ì»¤ì„œ'ë¼ëŠ” ê²ƒì´ ìžˆëŠ”ë°, ì»¤ì„œëŠ” ë¬¸ìž¥ì˜ ë§¨ ì•ž(ì²« ë²ˆì§¸ ë¬¸ìžì˜ ì™¼ìª½), ë¬¸ìž¥ì˜ ë§¨ ë’¤(ë§ˆì§€ë§‰ ë¬¸ìžì˜ ì˜¤ë¥¸ìª½), ë˜ëŠ” ë¬¸ìž¥ ì¤‘ê°„ ìž„ì˜ì˜ ê³³(ëª¨ë“  ì—°ì†ëœ ë‘ ë¬¸ìž ì‚¬ì´)ì— ìœ„ì¹˜í•  ìˆ˜ ìžˆë‹¤. ì¦‰ ê¸¸ì´ê°€ Lì¸ ë¬¸ìžì—´ì´ í˜„ìž¬ íŽ¸ì§‘ê¸°ì— ìž…ë ¥ë˜ì–´ ìžˆìœ¼ë©´, ì»¤ì„œê°€ ìœ„ì¹˜í•  ìˆ˜ ìžˆëŠ” ê³³ì€ L+1ê°€ì§€ ê²½ìš°ê°€ ìžˆë‹¤.

# ì´ íŽ¸ì§‘ê¸°ê°€ ì§€ì›í•˜ëŠ” ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

# L	ì»¤ì„œë¥¼ ì™¼ìª½ìœ¼ë¡œ í•œ ì¹¸ ì˜®ê¹€ (ì»¤ì„œê°€ ë¬¸ìž¥ì˜ ë§¨ ì•žì´ë©´ ë¬´ì‹œë¨)
# D	ì»¤ì„œë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ í•œ ì¹¸ ì˜®ê¹€ (ì»¤ì„œê°€ ë¬¸ìž¥ì˜ ë§¨ ë’¤ì´ë©´ ë¬´ì‹œë¨)
# B	ì»¤ì„œ ì™¼ìª½ì— ìžˆëŠ” ë¬¸ìžë¥¼ ì‚­ì œí•¨ (ì»¤ì„œê°€ ë¬¸ìž¥ì˜ ë§¨ ì•žì´ë©´ ë¬´ì‹œë¨)
# ì‚­ì œë¡œ ì¸í•´ ì»¤ì„œëŠ” í•œ ì¹¸ ì™¼ìª½ìœ¼ë¡œ ì´ë™í•œ ê²ƒì²˜ëŸ¼ ë‚˜íƒ€ë‚˜ì§€ë§Œ, ì‹¤ì œë¡œ ì»¤ì„œì˜ ì˜¤ë¥¸ìª½ì— ìžˆë˜ ë¬¸ìžëŠ” ê·¸ëŒ€ë¡œìž„
# P $	$ë¼ëŠ” ë¬¸ìžë¥¼ ì»¤ì„œ ì™¼ìª½ì— ì¶”ê°€í•¨

# ì´ˆê¸°ì— íŽ¸ì§‘ê¸°ì— ìž…ë ¥ë˜ì–´ ìžˆëŠ” ë¬¸ìžì—´ì´ ì£¼ì–´ì§€ê³ , ê·¸ ì´í›„ ìž…ë ¥í•œ ëª…ë ¹ì–´ê°€ ì°¨ë¡€ë¡œ ì£¼ì–´ì¡Œì„ ë•Œ, ëª¨ë“  ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ê³  ë‚œ í›„ íŽ¸ì§‘ê¸°ì— ìž…ë ¥ë˜ì–´ ìžˆëŠ” ë¬¸ìžì—´ì„ êµ¬í•˜ëŠ” í”„ë¡œê·¸ëž¨ì„ ìž‘ì„±í•˜ì‹œì˜¤. ë‹¨, ëª…ë ¹ì–´ê°€ ìˆ˜í–‰ë˜ê¸° ì „ì— ì»¤ì„œëŠ” ë¬¸ìž¥ì˜ ë§¨ ë’¤ì— ìœ„ì¹˜í•˜ê³  ìžˆë‹¤ê³  í•œë‹¤.

from sys import stdin

# ì²˜ìŒ ë„ì „í–ˆë‹¤ê°€ ì‹œê°„ì´ˆê³¼ë¡œ ë‹¤ì‹œ ë°”ê¿”ì•¼í–ˆë‹¤.
# ë‹¨ìˆœ index ê°’ìœ¼ë¡œ ë„ì „í•˜ë©´ ì•ˆëœë‹¤. ì‹œê°„ë³µìž¡ë„ë¥¼ ê³„ì‚° í•´ì•¼í•œë‹¤.

"""str = stdin.readline().strop()
N = int(stdin.readline())
cursor = len(str)-1

for _ in range(N) :
  order = stdin.readline().split()
  if order[0] == "L" :
    if cursor > 0 : cursor -= 1 
  elif order[0] == "D" :
    if cursor < len(str)-1 : cursor += 1 
  elif order[0] == "B" :
    if (str[cursor-1]) :
      str.replace(str[cursor-1],"")
  elif order[0] == "P" :
    str = str[0:cursor-1] + order[1] + str[cursor:]
print(str)"""

#â—â—â—â—
#ì²˜ìŒ ë„ì „ì€ ì‹œê°„ì´ˆê³¼ë¡œ ì»¤ì„œë¥¼ indexê°’ì´ ì•„ë‹Œ ë‘ë°°ì—´ì˜ ì¤‘ê°„ìœ¼ë¡œ í–ˆë‹¤.
#â—â—â—â—

stack_l = list(stdin.readline().strip())
stack_r = []
n = int(input())

for _ in range(n):
    temp = stdin.readline()
    if temp[0] == 'L':
        if len(stack_l) == 0:
            continue
        stack_r.append(stack_l.pop())
    elif temp[0] == 'D':
        if len(stack_r) == 0:
            continue
        stack_l.append(stack_r.pop())
    elif temp[0] == 'B':
        if len(stack_l) == 0:
            continue
        stack_l.pop()
    elif temp[0] == 'P':
        stack_l.append(temp[2])
# ìŠ¤íƒì€ FILO ì´ê¸° ë•Œë¬¸ì— reverseë¥¼ í•´ì£¼ë©´ ëœë‹¤.
# javascriptì˜ ê²½ìš° list ëŠ” reverse í•˜ë©´ ëë‚œë‹¤.
# "".join(arr1 + arr2) í•˜ë©´ ë¬¸ìžì—´ìœ¼ë¡œ ë‘ë°°ì—´ì„ ì¹˜í™˜í•œë‹¤.
# javascript ê²½ìš°ì—” concat í•˜ê³  join("")í•˜ë©´ ê¹”ìŒˆí•˜ê²Œ ëë‚œë‹¤.
print(''.join(stack_l + list(reversed(stack_r))))

# ì§§ì€ í›„ê¸° ðŸ˜‰ : ì‹œê°„ë³µìž¡ë„ê°€ ì¤‘ìš”í•˜ë‹¤, javascriptê°€ ì¢‹ì„ë•Œë„ ë§Žë‹¤ ã…Žã…Ž;